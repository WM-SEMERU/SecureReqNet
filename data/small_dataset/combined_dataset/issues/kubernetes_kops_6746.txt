Cherry pick of #6732 onto release-1.12


Cherry pick of #6732 onto release-1.12
