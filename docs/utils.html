---

title: Utils ðŸ”§


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/03_utils.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_utils.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Dynamic_Dataset" class="doc_header"><code>class</code> <code>Dynamic_Dataset</code><a href="https://github.com/rmclanton/SecureReqNet/blob/master/securereqnet/utils.py#L15" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Dynamic_Dataset</code>(<strong><code>ground_truth</code></strong>, <strong><code>path</code></strong>, <strong><code>isZip</code></strong>)</p>
</blockquote>
<p>This class efficiently 'stores' a dataset. Only a list of filenames and
mappings to their ground truth values are stored in memory. The file
contents are only brought into memory when requested.</p>
<p>This class supports indexing, slicing, and iteration.</p>
<p>A user can treat an instance of this class exactly as they would a list.
Indexing an instance of this class will return a tuple consisting of
the ground truth value and the file content of the filename at that index.</p>
<p>A user can request the filename at an index with get_id(index)</p>
<p>Example:</p>

<pre><code>dataset = Dynamic_Dataset(ground_truth)

print(dataset.get_id(0))
    -&gt; gitlab_79.txt

print(dataset[0])
    -&gt; ('(1,0)', 'The currently used Rails version, in the stable ...

for x in dataset[2:4]:
    print(x)
        -&gt; ('(1,0)', "'In my attempt to add 2 factor authentication ...
        -&gt; ('(1,0)', 'We just had an admin accidentally push to a ...</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dynamic_Dataset.get_id" class="doc_header"><code>Dynamic_Dataset.get_id</code><a href="__main__.py#L71" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dynamic_Dataset.get_id</code>(<strong><code>index</code></strong>)</p>
</blockquote>
<p>Get the name of the file at the specified index</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dynamic_Dataset.__len__" class="doc_header"><code>Dynamic_Dataset.__len__</code><a href="__main__.py#L76" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dynamic_Dataset.__len__</code>()</p>
</blockquote>
<p>The number of files contained in the dataset</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Processing_Dataset">Processing_Dataset<a class="anchor-link" href="#Processing_Dataset"> </a></h2><p>A class to wrap up processing functions</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Processing_Dataset" class="doc_header"><code>class</code> <code>Processing_Dataset</code><a href="https://github.com/rmclanton/SecureReqNet/blob/master/securereqnet/utils.py#L115" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Processing_Dataset</code>(<strong><code>path</code></strong>)</p>
</blockquote>
<p>This class wraps up processing and will match issue our data corpus with it's ground truth.
This class also creates our test train split.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Processing_Dataset.get_issue" class="doc_header"><code>Processing_Dataset.get_issue</code><a href="https://github.com/rmclanton/SecureReqNet/blob/master/securereqnet/utils.py#L124" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Processing_Dataset.get_issue</code>(<strong><code>filename</code></strong>)</p>
</blockquote>
<p>Give the contents of the specified file</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Processing_Dataset.get_ground_truth" class="doc_header"><code>Processing_Dataset.get_ground_truth</code><a href="https://github.com/rmclanton/SecureReqNet/blob/master/securereqnet/utils.py#L132" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Processing_Dataset.get_ground_truth</code>()</p>
</blockquote>
<p>Returns a dictionary representing the ground truth mapping
to filenames in the path this class was initialized with</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Processing_Dataset.get_test_and_training" class="doc_header"><code>Processing_Dataset.get_test_and_training</code><a href="https://github.com/rmclanton/SecureReqNet/blob/master/securereqnet/utils.py#L148" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Processing_Dataset.get_test_and_training</code>(<strong><code>ground_truth</code></strong>, <strong><code>test_ratio</code></strong>=<em><code>0.1</code></em>, <strong><code>isZip</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Given the input ground truth dictionary, generate a train test split with the given ratio: default 0.1.
If isZip is true, then we will attempt to read the data as a zip archive.  If not, we will try to read them normally.
Returns a tuple of form (test, train), where test and train are of class Dynamic_Dataset</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Embeddings" class="doc_header"><code>class</code> <code>Embeddings</code><a href="" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Embeddings</code>()</p>
</blockquote>
<p>Embeddings class is responsible for cleaning, normalizing, and vectorizing a given corpus.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Embeddings.preprocess" class="doc_header"><code>Embeddings.preprocess</code><a href="__main__.py#L57" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Embeddings.preprocess</code>(<strong><code>sentence</code></strong>, <strong><code>vocab_set</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Preprocess a given sentence string by cleaning each token, and normalizing.<br>
We tokenize, filter stopwords, filter stemmings, and filter remove-terms.
Returns a list of tokens.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Embeddings.get_embeddings_dict" class="doc_header"><code>Embeddings.get_embeddings_dict</code><a href="__main__.py#L73" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Embeddings.get_embeddings_dict</code>(<strong><code>embeddings_filename</code></strong>)</p>
</blockquote>
<p>Return a dictionary representation of the embeddings from the given embeddings csv file located at the input path</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Embeddings.vectorize" class="doc_header"><code>Embeddings.vectorize</code><a href="__main__.py#L83" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Embeddings.vectorize</code>(<strong><code>sentence</code></strong>, <strong><code>embeddings_dict</code></strong>)</p>
</blockquote>
<p>Takes an input sentence as a string, preprocesses it, then vectorizes it based on the input
embeddings dictionary.
Returns a numpy matrix representing the vectorized sentence</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

