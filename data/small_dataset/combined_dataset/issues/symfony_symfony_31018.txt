[HttpClient] Add tests - update code style nits.


WIP - please discard this PR for now.



Q
A




Branch?
master


Bug fix?
yes


New feature?
no


BC breaks?
no


Deprecations?
no


Tests pass?
yes


Fixed tickets
#31035


License
MIT


Doc PR




