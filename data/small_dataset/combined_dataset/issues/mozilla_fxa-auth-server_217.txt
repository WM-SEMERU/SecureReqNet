Proof of work


Implement the proof of work protocol from the spec.
